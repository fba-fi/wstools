
Protokolla

1 Viestit

1.1 S‰‰tietojen haku

	Asiakas		Asema
	uusi yhteys
			hyv‰ksy yhteys
	l‰het‰ "gdata"
			l‰het‰ "data1 data2 data3..."
	sulje yhteys 	sulje yhteys

1.2 Aseman resetointi

	Asiakas		Asema	
	uusi yhteys
			hyv‰ksy yhteys
	l‰het‰ "reset"
	sulje yhteys 	sulje yhteys

1.3 Aseman parametrien asettaminen

	Asiakas		Asema
	uusi yhteys
			hyv‰ksy yhteys
	l‰het‰ "sdata param1 param2..."
	sulje yhteys	sulje yhteys

1.4 Aseman parametrien lukeminen
	
	Asiakas		Asema
	uusi yhteys
			hyv‰ksy yhteys
	l‰het‰ "gdata"
			l‰het‰ "param1 param2..."
	sulje yhteys	sulje yhteys

2 Viestin muoto

- Tiedon siirto merkkijonoina
- Kenttien erotin on puolipilkku ";"
- Desimaalierotin on piste "."
- Vastaanottimelle menev‰t viestit p‰‰tet‰‰n "\n"

2.1 S‰‰kent‰t

- Aseman s‰‰tiedot p‰ivitysv‰li on 10 sekuntia.
- Veden l‰mpˆtilan p‰ivitysv‰li on 10 minuuttia?

#  Nimi		Arvot
1  wind_min	0 - 99.9	
2  wind_avg	0 - 99.9	
3  wind_max	0 - 99.9
4  dir_min	0 - 360
5  dir_avg	0 - 360
6  dir_max	0 - 360
7  water_temp	-99.99 - 99.99
8  sensor_temp	-99.99 - 99.99
9  rf_level	0 - 99.99 ??
10 error1	a-z/0-9
11 error2	a-z/0-9

2.2 Parametrikent‰t

# Nimi			Arvot
1  average_time		0-60
2  trigger_voltage	0-9.9999

